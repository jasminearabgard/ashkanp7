<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>index3</title>
</head>

<body onload="notifyMe()">
    <button onclick="notifyMe()">Notify Me</button>
    <script>
        function notifyMe() {
            if (!window.Notification) {
                console.log('Browser does not support notifications.');
            } else {

                if (Notification.permission === 'granted') {

                    var notify = new Notification('Hi there!', {
                        body: 'How are you doing?',
                    });
                } else {

                    Notification.requestPermission().then(function(p) {
                        if (p === 'granted') {
                            var notify = new Notification('Hi there!', {
                                timeout: 6000,
                                body: 'How are you doing?',
                            });
                        } else {
                            console.log('User blocked notifications.');
                        }
                    }).catch(function(err) {
                        console.error(err);
                    });
                }
            }
        }
    </script>
</body>

</html>